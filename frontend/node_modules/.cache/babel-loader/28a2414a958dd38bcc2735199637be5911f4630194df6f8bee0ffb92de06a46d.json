{"ast":null,"code":"var _jsxFileName = \"/Users/deepika/Desktop/PROJECTS/travel-toes/frontend/src/pages/ExpenseTracker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement);\nconst ExpenseTracker = ({\n  userId\n}) => {\n  _s();\n  const [date, setDate] = useState('');\n  const [expenses, setExpenses] = useState({});\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [category, setCategory] = useState('Food');\n  const [customCategory, setCustomCategory] = useState('');\n  const [editingExpense, setEditingExpense] = useState(null);\n  const [editingDate, setEditingDate] = useState(null);\n  const [amount, setAmount] = useState(0);\n  const [dates, setDates] = useState([new Date().toISOString().split(\"T\")[0]]);\n\n  // Get token from localStorage\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const response = await fetch(`/api/expenses/${userId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}` // Include token in Authorization header\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`Failed to fetch expenses: ${response.statusText}`);\n        }\n        const data = await response.json();\n        setExpenses(data.expenses);\n        setTotalExpenses(data.totalExpenses);\n      } catch (error) {\n        console.error('Error fetching expenses:', error.message);\n      }\n    };\n    fetchExpenses();\n  }, [userId, token]);\n  const handleDateChange = event => {\n    setDate(event.target.value);\n  };\n  const handleAddDate = () => {\n    const nextDate = new Date(dates[dates.length - 1]);\n    nextDate.setDate(nextDate.getDate() + 1);\n    const formattedDate = nextDate.toISOString().split(\"T\")[0];\n    setDates([...dates, formattedDate]);\n    setDate(formattedDate);\n  };\n  const handleAddExpense = async event => {\n    event.preventDefault();\n    const amountValue = parseFloat(amount);\n    const categoryToUse = category === 'Other' ? customCategory : category;\n    if (date && !isNaN(amountValue) && categoryToUse) {\n      const newExpenses = {\n        ...expenses\n      };\n      if (!newExpenses[date]) {\n        newExpenses[date] = [];\n      }\n      if (editingExpense) {\n        const previousAmount = newExpenses[editingExpense.date][editingExpense.index].amount;\n        newExpenses[editingExpense.date][editingExpense.index] = {\n          amount: amountValue,\n          category: categoryToUse\n        };\n        setEditingExpense(null);\n        setTotalExpenses(prevTotal => prevTotal - previousAmount + amountValue);\n      } else {\n        newExpenses[date].push({\n          amount: amountValue,\n          category: categoryToUse\n        });\n        setTotalExpenses(prevTotal => prevTotal + amountValue);\n      }\n      setExpenses(newExpenses);\n      const savedExpense = await saveExpenseToBackend({\n        date,\n        amount: amountValue,\n        category: categoryToUse\n      });\n      if (savedExpense) {\n        resetForm();\n      }\n    }\n  };\n  const saveExpenseToBackend = async expense => {\n    try {\n      const response = await fetch(`/api/expenses/${userId}`, {\n        method: editingExpense ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}` // Include token in Authorization header\n        },\n        body: JSON.stringify(expense)\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to save expense: ${response.statusText}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error saving expense:', error.message);\n    }\n  };\n  const handleEditExpense = (date, index) => {\n    const expenseToEdit = expenses[date][index];\n    setEditingExpense({\n      date,\n      index\n    });\n    setAmount(expenseToEdit.amount);\n    setCategory(expenseToEdit.category);\n    if (expenseToEdit.category === 'Other') {\n      setCustomCategory(expenseToEdit.category);\n    }\n  };\n  const handleDeleteExpense = async (date, index) => {\n    const expenseToDelete = expenses[date][index];\n    const updatedExpenses = {\n      ...expenses\n    };\n    updatedExpenses[date].splice(index, 1);\n    setTotalExpenses(prevTotal => prevTotal - expenseToDelete.amount);\n    setExpenses(updatedExpenses);\n    try {\n      const response = await fetch(`/api/expenses/${userId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}` // Include token in Authorization header\n        },\n        body: JSON.stringify({\n          date,\n          index\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete expense');\n      }\n    } catch (error) {\n      console.error('Error deleting expense:', error.message);\n    }\n  };\n  const resetForm = () => {\n    setAmount(0);\n    setCategory('Food');\n    setCustomCategory('');\n  };\n  const chartData = {\n    labels: dates,\n    datasets: [{\n      label: 'Spending Trend',\n      data: dates.map(date => {\n        const dailyExpenses = expenses[date] || [];\n        return dailyExpenses.reduce((sum, exp) => sum + exp.amount, 0);\n      }),\n      backgroundColor: 'rgba(75, 192, 192, 0.2)',\n      borderColor: 'rgba(75, 192, 192, 1)',\n      borderWidth: 2\n    }]\n  };\n  const pieData = {\n    labels: ['Food', 'Transport', 'Entertainment', 'Other'],\n    datasets: [{\n      label: 'Category-wise Spending',\n      data: ['Food', 'Transport', 'Entertainment', 'Other'].map(cat => {\n        return Object.values(expenses).flat().filter(exp => exp.category === cat).reduce((sum, exp) => sum + exp.amount, 0);\n      }),\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0']\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"expense-tracker\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Expense Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddExpense,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Select Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: date,\n          onChange: handleDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleAddDate,\n        children: \"Add Next Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Amount:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Category:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Food\",\n            children: \"Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Transport\",\n            children: \"Transport\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Entertainment\",\n            children: \"Entertainment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Other\",\n            children: \"Other\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), category === 'Other' && /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Custom Category:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: customCategory,\n          onChange: e => setCustomCategory(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: editingExpense ? 'Edit Expense' : 'Add Expense'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Expenses for Selected Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: (expenses[date] || []).map((expense, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [expense.category, \": $\", expense.amount, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditExpense(date, index),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteExpense(date, index),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total Expenses: $\", totalExpenses]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '600px',\n        height: '400px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: chartData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '300px',\n        height: '300px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Pie, {\n        data: pieData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpenseTracker, \"pp6nZ+E0WK1O+5c+qmNdPh6EwFQ=\");\n_c = ExpenseTracker;\nexport default ExpenseTracker;\nvar _c;\n$RefreshReg$(_c, \"ExpenseTracker\");","map":{"version":3,"names":["React","useState","useEffect","Line","Pie","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Filler","Tooltip","Legend","ArcElement","jsxDEV","_jsxDEV","register","ExpenseTracker","userId","_s","date","setDate","expenses","setExpenses","totalExpenses","setTotalExpenses","category","setCategory","customCategory","setCustomCategory","editingExpense","setEditingExpense","editingDate","setEditingDate","amount","setAmount","dates","setDates","Date","toISOString","split","token","localStorage","getItem","fetchExpenses","response","fetch","headers","ok","Error","statusText","data","json","error","console","message","handleDateChange","event","target","value","handleAddDate","nextDate","length","getDate","formattedDate","handleAddExpense","preventDefault","amountValue","parseFloat","categoryToUse","isNaN","newExpenses","previousAmount","index","prevTotal","push","savedExpense","saveExpenseToBackend","resetForm","expense","method","body","JSON","stringify","handleEditExpense","expenseToEdit","handleDeleteExpense","expenseToDelete","updatedExpenses","splice","chartData","labels","datasets","label","map","dailyExpenses","reduce","sum","exp","backgroundColor","borderColor","borderWidth","pieData","cat","Object","values","flat","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","onClick","e","required","style","width","height","_c","$RefreshReg$"],"sources":["/Users/deepika/Desktop/PROJECTS/travel-toes/frontend/src/pages/ExpenseTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Pie } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\nconst ExpenseTracker = ({ userId }) => {\n  const [date, setDate] = useState('');\n  const [expenses, setExpenses] = useState({});\n  const [totalExpenses, setTotalExpenses] = useState(0);\n  const [category, setCategory] = useState('Food');\n  const [customCategory, setCustomCategory] = useState('');\n  const [editingExpense, setEditingExpense] = useState(null);\n  const [editingDate, setEditingDate] = useState(null);\n  const [amount, setAmount] = useState(0);\n  const [dates, setDates] = useState([new Date().toISOString().split(\"T\")[0]]); \n\n  // Get token from localStorage\n  const token = localStorage.getItem('token');\n\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const response = await fetch(`/api/expenses/${userId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}` // Include token in Authorization header\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch expenses: ${response.statusText}`);\n        }\n        const data = await response.json();\n        setExpenses(data.expenses);\n        setTotalExpenses(data.totalExpenses);\n      } catch (error) {\n        console.error('Error fetching expenses:', error.message);\n      }\n    };\n\n    fetchExpenses();\n  }, [userId, token]);\n\n  const handleDateChange = (event) => {\n    setDate(event.target.value);\n  };\n\n  const handleAddDate = () => {\n    const nextDate = new Date(dates[dates.length - 1]);\n    nextDate.setDate(nextDate.getDate() + 1); \n    const formattedDate = nextDate.toISOString().split(\"T\")[0]; \n    setDates([...dates, formattedDate]);\n    setDate(formattedDate);\n  };\n\n  const handleAddExpense = async (event) => {\n    event.preventDefault();\n    const amountValue = parseFloat(amount);\n    const categoryToUse = category === 'Other' ? customCategory : category;\n\n    if (date && !isNaN(amountValue) && categoryToUse) {\n      const newExpenses = { ...expenses };\n      if (!newExpenses[date]) {\n        newExpenses[date] = [];\n      }\n\n      if (editingExpense) {\n        const previousAmount = newExpenses[editingExpense.date][editingExpense.index].amount;\n        newExpenses[editingExpense.date][editingExpense.index] = {\n          amount: amountValue,\n          category: categoryToUse,\n        };\n        setEditingExpense(null);\n        setTotalExpenses(prevTotal => prevTotal - previousAmount + amountValue);\n      } else {\n        newExpenses[date].push({ amount: amountValue, category: categoryToUse });\n        setTotalExpenses(prevTotal => prevTotal + amountValue);\n      }\n\n      setExpenses(newExpenses);\n      const savedExpense = await saveExpenseToBackend({ date, amount: amountValue, category: categoryToUse });\n      if (savedExpense) {\n        resetForm();\n      }\n    }\n  };\n\n  const saveExpenseToBackend = async (expense) => {\n    try {\n      const response = await fetch(`/api/expenses/${userId}`, {\n        method: editingExpense ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}` // Include token in Authorization header\n        },\n        body: JSON.stringify(expense),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to save expense: ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error saving expense:', error.message);\n    }\n  };\n\n  const handleEditExpense = (date, index) => {\n    const expenseToEdit = expenses[date][index];\n    setEditingExpense({ date, index });\n    setAmount(expenseToEdit.amount);\n    setCategory(expenseToEdit.category);\n    if (expenseToEdit.category === 'Other') {\n      setCustomCategory(expenseToEdit.category);\n    }\n  };\n\n  const handleDeleteExpense = async (date, index) => {\n    const expenseToDelete = expenses[date][index];\n    const updatedExpenses = { ...expenses };\n    updatedExpenses[date].splice(index, 1);\n\n    setTotalExpenses(prevTotal => prevTotal - expenseToDelete.amount);\n    setExpenses(updatedExpenses);\n\n    try {\n      const response = await fetch(`/api/expenses/${userId}`, {\n        method: 'DELETE',\n        headers: { \n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}` // Include token in Authorization header\n        },\n        body: JSON.stringify({ date, index }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete expense');\n      }\n    } catch (error) {\n      console.error('Error deleting expense:', error.message);\n    }\n  };\n\n  const resetForm = () => {\n    setAmount(0);\n    setCategory('Food');\n    setCustomCategory('');\n  };\n\n  const chartData = {\n    labels: dates,\n    datasets: [\n      {\n        label: 'Spending Trend',\n        data: dates.map((date) => {\n          const dailyExpenses = expenses[date] || [];\n          return dailyExpenses.reduce((sum, exp) => sum + exp.amount, 0);\n        }),\n        backgroundColor: 'rgba(75, 192, 192, 0.2)',\n        borderColor: 'rgba(75, 192, 192, 1)',\n        borderWidth: 2,\n      },\n    ],\n  };\n\n  const pieData = {\n    labels: ['Food', 'Transport', 'Entertainment', 'Other'],\n    datasets: [\n      {\n        label: 'Category-wise Spending',\n        data: ['Food', 'Transport', 'Entertainment', 'Other'].map((cat) => {\n          return Object.values(expenses)\n            .flat()\n            .filter((exp) => exp.category === cat)\n            .reduce((sum, exp) => sum + exp.amount, 0);\n        }),\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],\n      },\n    ],\n  };\n\n  return (\n    <div className=\"expense-tracker\">\n      <h2>Expense Tracker</h2>\n\n      <form onSubmit={handleAddExpense}>\n        <label>\n          Select Date:\n          <input type=\"date\" value={date} onChange={handleDateChange} />\n        </label>\n        <button type=\"button\" onClick={handleAddDate}>\n          Add Next Date\n        </button>\n\n        <br /><br />\n\n        <label>\n          Amount:\n          <input\n            type=\"number\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            required\n          />\n        </label>\n\n        <label>\n          Category:\n          <select value={category} onChange={(e) => setCategory(e.target.value)}>\n            <option value=\"Food\">Food</option>\n            <option value=\"Transport\">Transport</option>\n            <option value=\"Entertainment\">Entertainment</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </label>\n\n        {category === 'Other' && (\n          <label>\n            Custom Category:\n            <input\n              type=\"text\"\n              value={customCategory}\n              onChange={(e) => setCustomCategory(e.target.value)}\n              required\n            />\n          </label>\n        )}\n\n        <br />\n        <button type=\"submit\">{editingExpense ? 'Edit Expense' : 'Add Expense'}</button>\n      </form>\n\n      <h3>Expenses for Selected Date</h3>\n      <ul>\n        {(expenses[date] || []).map((expense, index) => (\n          <li key={index}>\n            {expense.category}: ${expense.amount}\n            <button onClick={() => handleEditExpense(date, index)}>Edit</button>\n            <button onClick={() => handleDeleteExpense(date, index)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n\n      <h3>Total Expenses: ${totalExpenses}</h3>\n\n      <div style={{ width: '600px', height: '400px' }}>\n        <Line data={chartData} />\n      </div>\n\n      <div style={{ width: '300px', height: '300px' }}>\n        <Pie data={pieData} />\n      </div>\n    </div>\n  );\n};\n\nexport default ExpenseTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}